<!DOCTYPE html>
<html>
  <body>

    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Buttons: A Look at Module Mixins, Compass Color-Contrast, and Sass Boolean Functions</title>
    <meta name="viewport" content="width=device-width">

    <!-- MOBILE SETTINGS -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="white" />

  <!-- Google Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Alegreya+Sans+SC:400,900|Open+Sans:300italic,400,700,300|Oleo+Script+Swash+Caps:700' rel='stylesheet' type='text/css'>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/main.min.css">

    <!-- Google Analytics -->
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-36758177-1']);
      _gaq.push(['_setDomainName', 'unakravets.com']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>

</head>
<body>

    <header class="headroom">
  <h1 class="title"><a href="/">Almost Profound</a></h1>

  <div class="menu-section">
	<div class="menu-section__toggle">
		<div class="toggle--1"></div>
		<div class="toggle--2"></div>
		<div class="toggle--3"></div>
	</div>
	<nav>
		<ul role="navigation" class="hidden">
			<li><a href="/">Home</a></li>
			<li><a href="/archive.html">Archive</a></li>
			<li><a href="http://unakravets.com/about">About</a></li>
		</ul>
	</nav>
</div>

</header>

     <h1>Buttons: A Look at Module Mixins, Compass Color-Contrast, and Sass Boolean Functions</h1>
<p class="meta">06 Nov 2013</p>

<div class="post">
<p>Recently, I&#8217;ve been coding websites via a modular approach &#8212; meaning, focusing on styling distinct (repeated) elements (like sidebars, buttons, entry fields, etc.), and reusing them throughout the page. <a href="http://smacss.com/book/type-module" target="_blank">Modules</a> ensure consistency throughout your project, and increase efficiency since you&#8217;re reusing as much code as possible.</p>

<p><strong>Right now I want to focus on buttons.</strong></p>

<p><a href="http://codepen.io/unax3/pen/niakF" target="_blank"><img src="https://d23f6h5jpj26xu.cloudfront.net/r2iliqbujj16bw_small.png" alt="Screen Shot 2013-10-31 at 9.25.27 AM.png"/></a></p>

<p>(click the buttons to open their Codepen)</p>

<h3>Mixing Modules</h3>

<p>When I began creating the buttons for the website that inspired this post, I originally styled them individually, but quickly realized, I can do better than that! Why not create a module mixin to make the code more universal and efficient? With this mixin, the only thing I&#8217;d need to do to create new buttons is specify their color and size (big or small): much more <strong>human</strong> and semantic. <code> .button1 {
  @include button($toad-blue, big);
}</code></p>

<p>I&#8217;m using @if statements and color functions to do the rest of the work &#8212; change element padding/sizing, darken the border color by a variable percentage, and determine the font color based on the darkness of the background.</p>

<p>There&#8217;s a lot going on <a href="http://codepen.io/unax3/pen/niakF" target="_blank">here</a>, so <strong>let&#8217;s break it down.</strong></p>

<h3>Setting up Compass Color-Contrast</h3>

<p>Compass&#8217; Color Functions are one of the reasons why its SO FREAKING AWESOME. Seriously, color contrast is AMAZING. All you need to do is</p>

<pre><code>@import "compass/utilities/color/contrast"</code></pre>

<p>and then, a simple statement:</p>

<pre><code>@include contrasted($color)</code></pre>

<p>gives you a background-color of $color while simultaneously determining what text-color to assign.</p>

<p>The default is a 30% threshold, and the font-color will be black on light backgrounds (white on dark backgrounds), but you can configure these settings with this setup:</p>

<pre><code>@import "compass/utilities/color/contrast";

$contrasted-dark-default: #333333; //text color on light bgs
$contrasted-light-default: #e7e7e7; //text color on dark bgs
$contrasted-lightness-threshold: 50%; //contrast threshold</code></pre>

<p>And then you just include the <code>@include contrasted()</code> statement, and bam! It&#8217;s like <a href="https://github.com/chriseppstein/compass/blob/stable/frameworks/compass/stylesheets/compass/utilities/color/_contrast.scss" target="_blank">magic</a>.</p>

<h3>The Mixin</h3>

<pre><code>@mixin button($color, $size) {
  //defaults:
  $push-height: 2px;
  $border-color: darken($color, 40%);
  $font-size: 1em;
  
  // a larger button has a bigger area of movement and font-size
  @if $size == "big" {
    $push-height: 6px;
    $font-size: 1.5em;
  }

  //the following determine how dark to make the bottom-border of the button depending on the lightness of the actual background color of the button
  @if lightness($color)  80%{
    $border-color: darken($color, 10%);
  }

  @include contrasted($color); //this is magical
    border: none; //as a reset
  border-bottom: $push-height*2 $border-color solid;
    font-size: $font-size;
    margin-top: 0; //must start at 0 bc movement illusion achieved via margin-top
    padding: 0.4em 2em;
  position: absolute;
    &amp;:hover {
        margin-top: $push-height;
    border-bottom: $push-height $border-color solid;
    }
    &amp;:active, &amp;:focus {
    outline-color: transparent; //reset styling
    outline-style: none; //reset styling
        border-bottom: none; //reset styling
        margin-top: $push-height*2;
        margin-bottom:-2px;
    } 
}</code></pre>

<h3>Checking Lightness</h3>

<p>The mixin reads the lightness of $color and darkens the bottom part of the button accordingly (because 10% darkening is really dramatic on light colors, but barely shows up on darker colors). Unlike other languages, there are no characters encapsulating the statements (which can be a little confusing), just write them straight out on the same line.</p>

<p>In this example, I first <strong>set a default</strong> (this is important!) <code>$border-color: darken($color, 40%)</code> and then checked the actual lightness of $color to see if any of the following rules apply:</p>

<pre><code>@if lightness($color)  80%{
    $border-color: darken($color, 10%);
  }</code></pre>

<h3>Sass Boolean Functions</h3>

<p>@if statements like the one above (and other <a href="http://thesassway.com/intermediate/if-for-each-while" target="_blank">control directives</a>) are really fun to use in mixins. You can even extend the use of these with &#8220;and,&#8221; &#8220;or,&#8221; and &#8220;not&#8221; statements. The full list of Sass functions is <a href="http://sass-lang.com/documentation/Sass/Script/Functions.html" target="_blank">here</a> and I&#8217;d highly recommend checking it out.</p>

<h3>Conclusion</h3>

<p>In the end, this little line of code: <code>.button1 {
  @include button($toad-blue, big);
}</code>, compiles to this: <code></code></p>

<pre>.button1 {
  background-color: #93d0ff;
  color: #333333;
  border: none;
  border-bottom: 12px #0070c6 solid;
  font-size: 1.5em;
  margin-top: 0;
  padding: 0.4em 2em;
  position: absolute;
}
.button1:hover {
  margin-top: 6px;
  border-bottom: 6px #0070c6 solid;
}
.button1:active, .button1:focus {
  outline-color: transparent;
  outline-style: none;
  border-bottom: none;
  margin-top: 12px;
  margin-bottom: -2px;
}</pre>

<p>Grab a cleaned-up version of the mixin here: <a href="https://gist.github.com/una/7249770#file-button-mixin-clean" target="_blank">https://gist.github.com/una/7249770#file-button-mixin-clean</a></p>

</div>

<!-- syntax highlighting -->
<script src="/js/vendor/jquery-1.11.0.min.js"></script>
<script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>

<script src="/js/vendor/highlight.pack.js"></script>

<script>
	$(document).ready(function() {
		$('pre code, code').each(function(i, e) {hljs.highlightBlock(e)});
	});
</script>



    <footer role="contentinfo">
	<ul class="social-icons">
		<li><a href="http://twitter.com/una" target="_blank" class="has-tooltip icon-twitter"><span class="tooltip">Twitter</span></a></li>
		<li><a href="http://dribbble.com/una" target="_blank" class="has-tooltip icon-dribbble"><span class="tooltip">Dribbble</span></a></li>
		<li><a href="http://github.com/una" target="_blank" class="has-tooltip icon-github2"><span class="tooltip">Github</span></a></li>
		<li><a href="http://vimeo.com/unakravets" target="_blank" class="has-tooltip icon-vimeo"><span class="tooltip">Vimeo</span></a></li>
		<li><a href="http://blog.unakravets.com" target="_blank" class="has-tooltip icon-paragraph-left"><span class="tooltip">Blog</span></a></li>
		<li><a href="http://sketchbook.unakravets.com" target="_blank" class="has-tooltip icon-pencil"><span class="tooltip">Sketchbook</span></a></li>
		<li><a href="http://codepen.io/unax3" target="_blank" class="has-tooltip icon-codepen"><span class="tooltip">Codepen</span></a></li>
		<li><a href="http://www.linkedin.com/pub/una-kravets/30/827/a35/" target="_blank" class="has-tooltip icon-linkedin"><span class="tooltip">LinkedIn</span></a></li>
		<li><a href="mailto:una@ukrave.us?subject=Hello There!&amp;body=Hi Una, so I was looking at your portfolio and..." class="has-tooltip icon-mail2"><span class="tooltip">Email</span></a></li>
	</ul>
	<p>&copy; <a href="http://github.com/una/portfolio-2014" target="_blank">Una Kravets</a> 2014. Made with lots of &hearts;. View the <a href="http://github.com/una/una.github.io" target="_blank">source code</a>.
	</p>
</footer>

<script src="../js/vendor/jquery-1.11.0.min.js"></script>
<script src="//cdn.jsdelivr.net/headroomjs/0.5.0/headroom.min.js"></script>
<script src="../js/scripts.js"></script>

  </body>
</html>
