---
layout: post
title: "Setting up An Accessibility Dashboard from Scratch with Pa11y on DigitialOcean
"
permalink: /pa11y-dash/
date: '2016-05-12'
comments: true
tags:
- a11y
- accesibility
- digitalocean
- pa11y
- dashboard
- tutorial
subtitle: "TBD"
---

<style>
code {
  font-size: 90%;
}
</style>

Accessibility is a really important part of making our web pages usable to everyone. ___ benefits of a11y here ___

I recently discovered (pa11y)(http://pa11y.org] â€” an open source project that helps users to set up (for free) an accessibility dashboard of their sites. This is a self-hosted nodeJS + mongoDB app, which means you can set it up internally behind a firewall and compare sites in development. Itâ€™s also available on [Docker](https://github.com/RobLoach/docker-pa11y) and is fully-customizable. You can edit the front end (written in Less) to match any design system and add any features youâ€™d like.

Out of the box, pa11y comes with:

- Filter system for tasks
- A visual interface for adding, editing, and removing tasks
- Overview panel of errors, warnings, and notices based on your selected WCAG preferences (WCAG2AA is default)
- Downloadable JSON and CSV data
- 30 days of data stored by default
- Detailed explanation of accessibility violations

Those are a lot of awesome things! And it looks a little bit like this:

![Pa11y dash default](../images/posts/pa11y/pa11y-dash.jpg)
![Pa11y dash default](../images/posts/pa11y/pa11y-dash-interior.jpg)
â€” image here of me having customized it â€”

Okay, so I know I have a little bit of cleanup work to do now on my sites. But before we go into shame ðŸ”” shame ðŸ”” mode, letâ€™s learn how to set up our own!

## Step 1: Spin Up a Droplet

Spinning up droplets is super easy! It takes ~55 seconds (probably, but like donâ€™t get mad if it takes 65) and 4 clicks to set up a MEAN-stack (Mongo, Express, Angular, Node) server on *~the cloud~*. DigitalOcean has a great [tutorial](https://www.digitalocean.com/community/tutorials/how-to-use-the-mean-one-click-install-image) on this, which Iâ€™ll cover here anyway:

Once you hit the green **CREATE DROPLET** button in the upper right hand corner of the DigitalOcean website. Then, click the second tab (**One-Click Apps**) and find **MEAN on 14.04** (or whatever the current version is â€” point is, we want the MEAN stack). Choose your size (the smallest plan should suffice), and then your datacenter region.

â€” image here of that setup â€”

Once thatâ€™s done, add an **SSH key**. Check out this Github [tutorial](https://help.github.com/articles/checking-for-existing-ssh-keys/) on SSH keys and how to generate them for more information. Basically, you want to find your public keying your `~/.ssh` folder associated with your computer. This acts like a fingerprint for your system.

## Step 2: SSH into Your New Server

Ok, cool â€” we now have a MEAN stack server running on a brand new droplet sitting in a data center somewhere in the world of our choosing :). Next, weâ€™ll want to remotely SSH into it. In your terminal, type `ssh root@<given IP address>`. When it asks about the Fingerprint, type `yes`. You should now be inside of your server! From your computer! CRAZY.

## Step 4: Install PhantomJS

Weâ€™ve got Node and MongoDB set up on this server now now, but another dependency we need is called [PhantomJS](http://phantomjs.org/). This [gist](https://gist.github.com/julionc/7476620) is a great tutorial on its install. Basically, type these commands in order to make sure your system is up to date and you have the required packages:

```bash
sudo apt-get update
sudo apt-get install build-essential chrpath libssl-dev libxft-dev
sudo apt-get install libfreetype6 libfreetype6-dev
sudo apt-get install libfontconfig1 libfontconfig1-dev
```

Then, change back to your root directory with `cd ~` and instal Phantom with:

```bash
export PHANTOM_JS="phantomjs-1.9.8-linux-x86_64"
wget https://bitbucket.org/ariya/phantomjs/downloads/$PHANTOM_JS.tar.bz2
sudo tar xvjf $PHANTOM_JS.tar.bz2
```

Once is it downloaded on the server, go to your `root/` directory (which is your user and might be one step up from the root directory -- yes this is a bit confusing, but just `cd ../` to get to it), and create a symlink with:

```bash
sudo mv $PHANTOM_JS /usr/local/share
sudo ln -sf /usr/local/share/$PHANTOM_JS/bin/phantomjs /usr/local/bin
```

To make sure its on your system use `phantomjs -v`.

## Step 5: Clone Your Pa11y Dashboard Repo

Your visible sites are in `opts/`, so youâ€™ll want to get into that directory with `cd /opts/`. Once there, clone the [pa11y-dashboard](https://github.com/springernature/pa11y-dashboard) repo, or your fork of it, with `git clone https://github.com/springernature/pa11y-dashboard.git` (or your cloned address). Then cd into *that* directory with `cd pa11y-dashboard` and run `npm install` (remember Node is already installed because *one-step app* thing DigitalOcean gave us â€” yayyyy).

Clone repo into opts/

Install Phantom JS: https://gist.github.com/julionc/7476620

â€”> add to bash script <â€” cloud thing
â€”> change ports to :80 inside of config/
â€”> install pm2
â€”> redo the cp script to recreate the production.json
â€”> add domain
