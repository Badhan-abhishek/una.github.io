---
layout: post
title: CSS Image Effects &num;4&colon; Bokeh Effects
permalink: /bokeh
date: '2015-10-18'
comments: true
tags:
- development
- design
- css
- sass
- filter
- blend mode
- photo
- effect
- vignette
subtitle: Bokeh textures are very popular in photography. Let's take a look at how to create our own.
header-bg: ../images/posts/css-effects/4/bokeh-ex1.jpg
---

<style>
.doggie {
  width: 100%;
  height: 200px;
  display: block;
  position: relative;
  background-image: url('../images/posts/css-effects/4/dog-model.jpg');
  background-position: 50%;
  background-size: cover;
}
.snow {
  width: 100%;
  height: 200px;
  display: block;
  position: relative;
  background-image: url('../images/posts/css-effects/4/snow-overlay.jpg');
  background-position: 50%;
  background-size: cover;
}
.snow-me:after {
    content: '';
    position: absolute;
    top: 0; left: 0;
    display: block;
    width: 100%;
    height: 200px;
    background-image: url('../images/posts/css-effects/4/snow-overlay.jpg');
    background-size: cover;
    mix-blend-mode: screen;
  }
}
</style>

This is part of a series of posts breaking down visual effects using CSS filters and blend modes. Read [Part 1: The Vintage Washout Effect](/vintage-washout), [Part 2: 3d Glasses](/3d-effect), and [Part 3: Vignettes](/vignettes) for some background on blend modes. In this post we'll explore a popular photography technique called bokeh and how to recreate the illusion of a bokeh-style image.

## So What is Bokeh?

<figure class="right" style="margin-top: -3em">
<img src="../images/posts/css-effects/4/bokeh-ex2.jpg" alt="">
  <figcaption>A little bokeh <a href="http://digital-photography-school.com/how-to-take-beautiful-bokeh-christmas-images-with-31-stunning-examples/">how-to</a>.</figcaption>
</figure>

Bokeh is a photography technique that creates intentional blur for visual effect. The name itself stems from the Japanese word for blur or haze: boke. <sup><a href="http://www.pocket-lint.com/news/127591-what-is-bokeh-here-s-the-photography-effect-explained">1</a></sup> Technically, any image with a blur in it can be considred bokeh, but they are most distinguished by the imagery of large circluar forms on photographs.

Christmas lights are popularly used to get this effect, and so are night scenes. Often, bokeh photography is simple round shapes, but can also include subjects in the foreground. Let's look into how we can recreate the illusion of bokeh photography in CSS.

## Applying Texture

Let's start with some blend modes &mdash; particularly multiply and screen are going to be your friends when applying texture (also Google). All you really need to do is layer a texture on top of an image and `multiply` if the texture is white, or `screen` if the texture is on a black background. It's super easy!

<figure class="third">
  <div class="doggie"></div><br>
  <figcaption>Just a doggie with a red hat.</figcaption>
</figure>

<figure class="third">
  <div class="snow"></div><br>
  <figcaption>Snow overlay.</figcaption>
</figure>


<figure class="third">
  <div class="doggie snow-me"></div><br>
  <figcaption>Doggie with pseudo-element containing snow overlay and <code>mix-blend-mode: screen</code><br> (See <a href="http://codepen.io/una/pen/Qjgojy">Codepen</a>)</figcaption>
</figure>

<div class="clearfix"></div>

See, aren't blend modes fun? ðŸ˜Š There are so many textures you can play with. Just Google search what you're looking for, and feel free to get carried away.

## CSS Gradients

CSS Gradients and box shadows are extremely powerful for creating a variety of [visualizations](http://a.singlediv.com/). We can leverage them for building custom bokeh effects, too! Check out the [Vignette article](http://una.im/vignettes) for more of a baseline on gradients.

<div class="half--left">
  <div class="radial-1"></div>
</div>
<div class="half--right"><style contenteditable class="live-code">.radial-1 {
  background: radial-gradient(hotpink, transparent);
  height: 180px;
}
</style></div>
<div class="clearfix"></div>

We can make this gradient become a distinct circle by making sure the stops overlap, like so:

<div class="half--right">
  <div class="radial-2"></div>
</div>
<div class="half--left"><style contenteditable class="live-code">.radial-2 {
  background: radial-gradient(hotpink, hotpink 40%, transparent 40%, transparent);
  height: 180px;
}
</style></div>
<div class="clearfix"></div>

To make this look more like a bokeh effect, however, we'll want to make this a circular shape and maybe have a bit of blur on the edges. Keep in mind, we can also position this circle anywhere within the element:

<div class="half--left">
  <div class="radial-3"></div>
</div>
<div class="half--right"><style contenteditable class="live-code">.radial-3 {
  background: radial-gradient(circle at center, hotpink, hotpink 40%, transparent 42%, transparent);
  height: 180px;
}
</style></div>

## Creating Bokeh Patterns

Now, we're almost there. The really fun thing about CSS gradients is that you can have as many as you'd like. You can use the above technique combined with positioning to create entire patterns like this:

<figure class="bokehs">
</figure>

<style contenteditable class="live-code">/*
you can edit me!
*/

.bokehs {
  width: 100%;
  height: 400px;
  background:
    radial-gradient(100px at 500px 200px, rgba(255, 105, 180, .65), rgba(255, 105, 180, .65) 97%, transparent),
    radial-gradient(40px at 200px 80px, rgba(255, 99, 71, .75), rgba(255, 99, 71, .75) 94%, transparent),
    radial-gradient(70px at 100px 50px, rgba(255, 20, 147, .64), rgba(255, 20, 147, .64) 96%, transparent),
    radial-gradient(120px at 50px 300px, rgba(255, 105, 150, .65), rgba(255, 105, 150, .65) 97%, transparent),
    radial-gradient(30px at 300px 90px, rgba(255, 192, 203, .7), rgba(255, 192, 203, 0.7) 96%, transparent),
    radial-gradient(50px at 120px 150px, rgba(255, 192, 203, 0.6), rgba(255, 192, 203, 0.6) 95%, transparent),
    radial-gradient(60px at 230px 40px, rgba(255, 99, 71, .68), rgba(255, 99, 71, .68) 94%, transparent),
    radial-gradient(90px at 160px 170px, rgba(255, 20, 147, .6), rgba(255, 20, 147, .6) 96%, transparent),
    radial-gradient(100px at 0px 210px, rgba(255, 105, 180, .5), rgba(255, 105, 180, .5) 97%, transparent),
    radial-gradient(40px at 250px 190px, rgba(255, 192, 203, .8), rgba(255, 192, 203, .8) 96%, transparent),
    radial-gradient(50px at 220px 250px, rgba(255, 182, 193, .6), rgba(255, 182, 193, .6) 95%, transparent);
}
</style>

## Randomly Generated Bokeh

And the best part is that you can take that and randomize it! Since this series is sticking to CSS &mdash; I'll show you an example of using the Sass `random()` function to create this effect without all of that typing. Now, keep in mind, Sass compiles to CSS, so `random()` is **not truly "random"** upon page refresh, but it is random upon each recompilation.

## Bokeh Patterns on Images

-> bokeh-portait-1 and bokeh-portrait 2 are from here: http://icanbecreative.com/article/be-inspired-gorgeous-showcase-of-bokeh-inspired-female-portrait-photography/

## CSS Shapes

Now, we can also use CSS Shapes to create an outline

--> shapes outline the person

{% include css-effects.html %}